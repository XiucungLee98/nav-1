const $siteList=$(".siteList"),$lastLi=$siteList.find("li.lastLi"),all=localStorage.getItem("all"),allObject=JSON.parse(all),hashMap=allObject||[{logo:"s",url:"https://www.stackoverflow.com"},{logo:"w",url:"https://www.wangdoc.com"}],simplifyUrl=l=>l.replace("https://","").replace("http://","").replace("www.","").replace(/\/.*/,""),render=()=>{$siteList.find("li:not(.lastLi)").remove(),hashMap.forEach(((l,e)=>{const s=$(`\n        <li>\n           <div class="site">\n                <div class="initial">${l.logo}</div>\n               <div class="link">${simplifyUrl(l.url)}</div>\n               <div class="close">\n                    <svg class="icon">\n                     <use xlink:href="#icon-close"></use>\n                     </svg>\n               </div>\n            </div>\n         </li>\n        `).insertBefore($lastLi);s.on("click",(()=>{window.open(l.url)})),s.on("click",".close",(l=>{l.stopPropagation(),hashMap.splice(e,1),render()}))}))};render(),$(".addButton").on("click",(()=>{let l=window.prompt("请输入你要添加的网站");0!==l.indexOf("http")&&(l="http://"+l),hashMap.push({logo:simplifyUrl(l)[0],url:l}),render()})),window.onbeforeunload=()=>{const l=JSON.stringify(hashMap);localStorage.setItem("all",l)};let flag=-1;$(document).on("keypress",(l=>{if("\n"!==l.key){uncheck();const e=l.key.toLowerCase();for(let l=0;l<hashMap.length;l++)if(hashMap[l].logo.toLowerCase()===e){flag=l,check(hashMap[l],l,e);break}}13===l.keyCode&&(flag>=0&&window.open(hashMap[flag].url),flag=-1)}));const check=(l,e,s)=>{if(l.logo===s){let l=$("ul li").eq(e);$(l).css("color","red"),$(l).focus()}},uncheck=()=>{let l=$("ul li");$(l).css("color","black")};
//# sourceMappingURL=index.dd75195f.js.map
